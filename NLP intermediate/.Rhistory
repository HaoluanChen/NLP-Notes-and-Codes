select( "created_at", "text") %>%
unnest_tokens(word, text, token = "words") %>%
anti_join(stop_words) %>%
filter(!(word == "t.co" | word == "https" | word == "amp")) %>%
count(word, sort = TRUE) %>%
mutate(id = "uw")
uw_tf_idf
rbind(ut_tf_idf, uw_tf_idf)
ut_tf_idf <- uoft %>%
select( "created_at", "text") %>%
unnest_tokens(word, text, token = "words") %>%
anti_join(stop_words) %>%
filter(!(word == "t.co" | word == "https" | word == "amp")) %>%
count(word, sort = TRUE) %>%
mutate(id = "ut")
ut_tf_idf
uw_tf_idf <- Uw %>%
select( "created_at", "text") %>%
unnest_tokens(word, text, token = "words") %>%
anti_join(stop_words) %>%
filter(!(word == "t.co" | word == "https" | word == "amp")) %>%
count(word, sort = TRUE) %>%
mutate(id = "uw")
uw_tf_idf
rbind(ut_tf_idf, uw_tf_idf)
data_tf_idf <- rbind(ut_tf_idf, uw_tf_idf)
data_tf_idf %>% bind_tf_idf(word, id, n)
data_tf_idf %>% bind_tf_idf(word, id, n) %>%
arrange(tf_idf)
data_tf_idf %>% bind_tf_idf(word, id, n) %>%
arrange(desc(tf_idf))
data_tf_idf %>%
mutate(word = factor(word, levels = rev(unique(word)))) %>%
group_by(id) %>%
top_n(15) %>%
ungroup() %>%
ggplot(aes(word, tf_idf, fill = id)) +
geom_col(show.legend = FALSE) +
labs(x = NULL, y = "tf-idf") +
facet_wrap(~id, ncol = 2, scales = "free") +
coord_flip()
data_tf_idf<- data_tf_idf %>% bind_tf_idf(word, id, n) %>%
arrange(desc(tf_idf))
data_tf_idf %>%
mutate(word = factor(word, levels = rev(unique(word)))) %>%
group_by(id) %>%
top_n(15) %>%
ungroup() %>%
ggplot(aes(word, tf_idf, fill = id)) +
geom_col(show.legend = FALSE) +
labs(x = NULL, y = "tf-idf") +
facet_wrap(~id, ncol = 2, scales = "free") +
coord_flip()
data_tf_idf %>%
mutate(word = factor(word, levels = rev(unique(word)))) %>%
group_by(id) %>%
top_n(15) %>%
ungroup() %>%
ggplot(aes(word, tf_idf, fill = id)) +
geom_col(show.legend = FALSE) +
labs(x = NULL, y = "tf-idf") +
facet_wrap(~id, ncol = 2, scales = "free") +
coord_flip()
data_tf_idf %>%
mutate(word = factor(word, levels = rev(unique(word)))) %>%
group_by(id) %>%
top_n(15) %>%
ungroup() %>%
ggplot(aes(word, tf_idf, fill = id)) +
geom_col(show.legend = FALSE) +
labs(x = NULL, y = "tf-idf") +
facet_wrap(~id, ncol = 2, scales = "free") +
coord_flip()+
theme_minimal()
data_tf_idf
ut_tf_idf <- uoft %>%
select( "created_at", "text") %>%
unnest_tokens(word, text, token = "words") %>%
anti_join(stop_words) %>%
filter(!(word == "t.co" | word == "https" | word == "amp")) %>%
count(word, sort = TRUE) %>%
mutate(id = "ut")
ut_tf_idf
uw_tf_idf <- Uw %>%
select( "created_at", "text") %>%
unnest_tokens(word, text, token = "words") %>%
anti_join(stop_words) %>%
filter(!(word == "t.co" | word == "https" | word == "amp")) %>%
count(word, sort = TRUE) %>%
mutate(id = "uw")
uw_tf_idf
data_tf_idf <- rbind(ut_tf_idf, uw_tf_idf)
data_tf_idf<- data_tf_idf %>% bind_tf_idf(word, id, n) %>%
arrange(desc(tf_idf))
data_tf_idf
data_tf_idf %>%
mutate(word = factor(word, levels = rev(unique(word)))) %>%
group_by(id) %>%
top_n(15) %>%
ungroup() %>%
ggplot(aes(word, tf_idf, fill = id)) +
geom_col(show.legend = FALSE) +
labs(x = NULL, y = "tf-idf") +
facet_wrap(~id, ncol = 2, scales = "free") +
coord_flip()+
theme_minimal()
data_tf_idf<- data_tf_idf %>%
ungroup() %>%
bind_tf_idf(word, id, n) %>%
arrange(desc(tf_idf))
data_tf_idf
data_tf_idf %>%
mutate(word = factor(word, levels = rev(unique(word)))) %>%
group_by(id) %>%
top_n(15) %>%
ungroup() %>%
ggplot(aes(word, tf_idf, fill = id)) +
geom_col(show.legend = FALSE) +
labs(x = NULL, y = "tf-idf") +
facet_wrap(~id, ncol = 2, scales = "free") +
coord_flip()+
theme_minimal()
data_tf_idf
View(data_tf_idf)
View(data_tf_idf)
ut_tf_idf <- uoft %>%
select( "created_at", "text") %>%
unnest_tokens(word, text, token = "words") %>%
anti_join(stop_words) %>%
filter(!(word == "t.co" | word == "https" | word == "amp")) %>%
count(word, sort = TRUE) %>%
mutate(id = "ut")
ut_tf_idf
uw_tf_idf <- Uw %>%
select( "created_at", "text") %>%
unnest_tokens(word, text, token = "words") %>%
anti_join(stop_words) %>%
filter(!(word == "t.co" | word == "https" | word == "amp")) %>%
count(word, sort = TRUE) %>%
mutate(id = "uw")
uw_tf_idf
data_tf_idf <- rbind(ut_tf_idf, uw_tf_idf)
data_tf_idf<- data_tf_idf %>%
ungroup() %>%
bind_tf_idf(word, id, n) %>%
arrange(desc(tf_idf))
data_tf_idf
data_tf_idf %>%
mutate(word = factor(word, levels = rev(unique(word)))) %>%
group_by(id) %>%
top_n(15) %>%
ungroup() %>%
ggplot(aes(word, tf_idf, fill = id)) +
geom_col(show.legend = FALSE) +
labs(x = NULL, y = "tf-idf") +
facet_wrap(~id, ncol = 2, scales = "free") +
coord_flip()+
theme_minimal()
data_tf_idf %>%
mutate(word = factor(word, levels = rev(unique(word)))) %>%
group_by(id) %>%
top_n(15) %>%
ungroup() %>%
ggplot(aes(word, tf, fill = id)) +
geom_col(show.legend = FALSE) +
labs(x = NULL, y = "tf-idf") +
facet_wrap(~id, ncol = 2, scales = "free") +
coord_flip()+
theme_minimal()
data_tf_idf %>%
mutate(word = factor(word, levels = rev(unique(word)))) %>%
group_by(id) %>%
top_n(15) %>%
ungroup() %>%
ggplot(aes(word, tf_idf, fill = id)) +
geom_col(show.legend = FALSE) +
labs(x = NULL, y = "tf-idf") +
facet_wrap(~id, ncol = 2, scales = "free") +
coord_flip()+
theme_minimal()
data_tf_idf %>%
mutate(word = factor(word, levels = rev(unique(word)))) %>%
group_by(id) %>%
top_n(15) %>%
ungroup() %>%
ggplot(aes(word, tf, fill = id)) +
geom_col(show.legend = FALSE) +
labs(x = NULL, y = "tf-idf") +
facet_wrap(~id, ncol = 2, scales = "free") +
coord_flip()+
theme_minimal()
data_tf_idf
data_tf_idf %>%
mutate(word = factor(word, levels = rev(unique(word)))) %>%
group_by(id) %>%
top_n(15) %>%
ungroup() %>%
ggplot(aes(word, tf, fill = id)) +
geom_col(show.legend = FALSE) +
labs(x = NULL, y = "tf-idf") +
facet_wrap(~id, ncol = 2, scales = "free") +
coord_flip()+
theme_minimal()
data_tf_idf %>%
mutate(word = factor(word, levels = rev(unique(word)))) %>%
group_by(id) %>%
top_n(15) %>%
ungroup() %>%
ggplot(aes(word, tf_idf, fill = id)) +
geom_col(show.legend = FALSE) +
labs(x = NULL, y = "tf-idf") +
facet_wrap(~id, ncol = 2, scales = "free") +
coord_flip()+
theme_minimal()
knitr::opts_chunk$set(echo = TRUE)
library(readxl)
library(tidyverse)
turtles_annual_data <- read_excel("turtles_annual_data.xls")
data <- read_excel("turtles_annual_data.xls")
glimpse(turtles_annual_data)
data <- read_excel("turtles_annual_data.xls")
data <- read_excel("turtles_annual_data.xls")
glimpse(data)
glimpse(data)
View(data)
View(data)
View(data)
data <- data %>%
select("notch")
data
data <- data %>%
select(notch)
data
data <- read_excel("turtles_annual_data.xls")
glimpse(data)
data1 <- data %>%
select("notch", "Unique site", "known age", "Year of birth", "Year",
"age", "sex", "date", "Julian date", "site", "gravid", "nest",
"nestdate", "secnest", "nest2dat", "firstcap", "mass", "cl", "pl",
"midcl", "midpl", "lclaw", "rclaw", "cw", "ch", "dead")
data
data1
View(data1)
View(data1)
data1 <- data %>%
select("notch", "Unique site", "known age", "Year of birth", "Year",
"age", "sex", "date", "Julian date", "site", "gravid", "nest",
"nestdate", "secnest", "nest2dat", "firstcap", "mass", "cl", "pl",
"midcl", "midpl", "lclaw", "rclaw", "cw", "ch", "dead") %>%
filter(site == "Arowhon Rd." | "Sims Creek" | "Maiden Lake" | "Road to WHP" |
"Blanding's Bog" | "Wolf Howl Pond" | "Wolf Howl Pond E." |
"Road to Wrose" | "West Rose" | "March Hare Lake")
data1 <- data %>%
select("notch", "Unique site", "known age", "Year of birth", "Year",
"age", "sex", "date", "Julian date", "site", "gravid", "nest",
"nestdate", "secnest", "nest2dat", "firstcap", "mass", "cl", "pl",
"midcl", "midpl", "lclaw", "rclaw", "cw", "ch", "dead") %>%
filter(site == "Arowhon Rd." | site == "Sims Creek" | site == "Maiden Lake" |site ==  "Road to WHP" |
site == "Blanding's Bog" | site == "Wolf Howl Pond" | site == "Wolf Howl Pond E." |site ==
"Road to Wrose" | site == "West Rose" | site == "March Hare Lake")
data1
data1 <- data %>%
select("notch", "Unique site", "known age", "Year of birth", "Year",
"age", "sex", "date", "Julian date", "site", "gravid", "nest",
"nestdate", "secnest", "nest2dat", "firstcap", "mass", "cl", "pl",
"midcl", "midpl", "lclaw", "rclaw", "cw", "ch", "dead") %>%
filter(site == "Arowhon Rd." | site == "Sims Creek" | site == "Maiden Lake"
| site ==  "Road to WHP" | site == "Blanding's Bog"
| site == "Wolf Howl Pond" | site == "Wolf Howl Pond E."
| site == "Road to Wrose" | site == "West Rose"
| site == "March Hare Lake")
data1
data1 <- data %>%
select("notch", "known age", "Year",
"sex", "date", "Julian date", "site", "gravid", "nest",
"nestdate", "secnest", "nest2dat", "firstcap", "mass", "cl", "pl",
"midcl", "midpl", "lclaw", "rclaw", "cw", "ch", "dead") %>%
filter(site == "Arowhon Rd." | site == "Sims Creek" | site == "Maiden Lake"
| site ==  "Road to WHP" | site == "Blanding's Bog"
| site == "Wolf Howl Pond" | site == "Wolf Howl Pond E."
| site == "Road to Wrose" | site == "West Rose"
| site == "March Hare Lake")
data1
first_capture <- data1 %>%
filter(first_capture == TRUE)
data1 <- data %>%
select("notch", "known age", "Year",
"sex", "date", "Julian date", "site", "gravid", "nest",
"nestdate", "secnest", "nest2dat", "firstcap", "mass", "cl", "pl",
"midcl", "midpl", "lclaw", "rclaw", "cw", "ch", "dead") %>%
filter(site == "Arowhon Rd." | site == "Sims Creek" | site == "Maiden Lake"
| site ==  "Road to WHP" | site == "Blanding's Bog"
| site == "Wolf Howl Pond" | site == "Wolf Howl Pond E."
| site == "Road to Wrose" | site == "West Rose"
| site == "March Hare Lake")
data1
first_capture <- data1 %>%
filter(first_capture == "TRUE")
first_capture <- data1 %>%
filter(first_capture == TRUE)
first_capture <- data1 %>%
filter(firstcap == TRUE)
first_capture
dead <- data1 %>%
filter(dead == TRUE)
dead
data1 %>%
count(sex)
ggplot(aes(n)) +
geom_bar()
ggplot(aes(sex, n)) +
geom_bar()
data1 %>%
count(sex) %>%
ggplot(aes(sex, n)) +
geom_bar()
data1 %>%
count(sex) %>%
ggplot(aes(sex)) +
geom_bar()
data1 %>%
ggplot(aes(sex)) +
geom_bar()
data1 <- data1 %>%
mutate(sex = ifelse(sex == "-" | sex == "Unknown"), NA, sex)
data1 <- data1 %>%
mutate(if(sex == "-" | sex == "Unknown") { sex = "NA"})
data1 %>%
ggplot(aes(sex)) +
geom_bar()
data1 <- data1 %>%
mutate(if(sex == "-" | sex == "Unknown") {sex = "NA"})
data1 %>%
ggplot(aes(sex)) +
geom_bar()
data1 <- data1 %>%
mutate(sex = if(sex == "-" | sex == "Unknown"), "NA", sex)
data1 <- data1 %>%
mutate(sex = ifelse(sex == "-" | sex == "Unknown"), "NA", sex)
data1 <- data1 %>%
mutate(sex = (ifelse(sex == "-" | sex == "Unknown"), "NA", sex))
data1 <- data1 %>%
mutate(sex = ifelse(sex == "-" | sex == "Unknown"), "NA"))
data1 <- data1 %>%
mutate(sex = ifelse(sex == "-" | sex == "Unknown", "NA"))
data1 <- data1 %>%
mutate(sex = str_replace(sex, "-", "NA") )
data1 <- data1 %>%
mutate(sex = str_replace(sex, "-", "NA")) %>%
mutate(sex = str_replace(sex, "Unknown", "NA"))
data1 %>%
ggplot(aes(sex)) +
geom_bar()
data1 <- data1 %>%
mutate(sex = str_replace(sex, "-", NA)) %>%
mutate(sex = str_replace(sex, "Unknown", NA))
sex = str_replace_na(sex, "NA")
data1 <- data1 %>%
na_if(sex, "-") %>%
na_if(sex, "Unknow")
na_if(data1$sex, "-")
data1 <- data1 %>%
na_if(sex, "_")
data1 <- data1 %>%
na_if(sex, "-")
data1[sex == "-"]<- NA
data1[data$sex == "-"]<- NA
data1[data1$sex == "-"]<- NA
na_if(data1$sex, "-")
na_if(data1$sex, "-")
data
na_if(data1$sex, "-")
na_if(data1$sex, "Unknown")
data1 %>%
ggplot(aes(sex)) +
geom_bar()
data1 %>%
ggplot(aes(sex)) +
geom_bar()
data1 %>%
ggplot(aes(sex)) +
geom_bar()
data1 <- data %>%
select("notch", "known age", "Year",
"sex", "date", "Julian date", "site", "gravid", "nest",
"nestdate", "secnest", "nest2dat", "firstcap", "mass", "cl", "pl",
"midcl", "midpl", "lclaw", "rclaw", "cw", "ch", "dead") %>%
filter(site == "Arowhon Rd." | site == "Sims Creek" | site == "Maiden Lake"
| site ==  "Road to WHP" | site == "Blanding's Bog"
| site == "Wolf Howl Pond" | site == "Wolf Howl Pond E."
| site == "Road to Wrose" | site == "West Rose"
| site == "March Hare Lake")
data1
first_capture <- data1 %>%
filter(firstcap == TRUE)
first_capture
dead <- data1 %>%
filter(dead == TRUE)
dead
data1 %>%
ggplot(aes(sex)) +
geom_bar()
data1 <- data1 %>%
mutate_if(sex == "-", sex = NA)
data1 %>%
mutata(sex = str_replace("-", NA),
sex = str_replace("Unknown", NA))
data1 %>%
mutate(sex = str_replace("-", NA),
sex = str_replace("Unknown", NA))
data1 %>%
mutate(sex = str_replace("-", "NA"),
sex = str_replace("Unknown", "NA"))
data1 %>%
mutate(sex = str_replace(sex ,"-", "NA"),
sex = str_replace("Unknown", "NA"))
data1 %>%
mutate(sex = str_replace(sex ,"-", "NA"),
sex = str_replace(sex, "Unknown", "NA"))
data1 %>%
ggplot(aes(sex)) +
geom_bar()
data1 %>% data1 %>%
mutate(sex = str_replace(sex ,"-", "NA"),
sex = str_replace(sex, "Unknown", "NA"))
data1 %>%
ggplot(aes(sex)) +
geom_bar()
data1 %>% data1 %>%
mutate(sex = str_replace(sex ,"-", "NA"),
sex = str_replace(sex, "Unknown", "NA"))
data1 <- data1 %>%
mutate(sex = str_replace(sex ,"-", "NA"),
sex = str_replace(sex, "Unknown", "NA"))
data1 %>%
ggplot(aes(sex)) +
geom_bar()
data1 <- data1 %>%
mutate(sex = str_replace(sex ,"-", "NA"),
sex = str_replace(sex, "Unknown", "NA")
sex = str_replace_na())
data1 <- data1 %>%
mutate(sex = str_replace(sex ,"-", "NA"),
sex = str_replace(sex, "Unknown", "NA"),
sex = str_replace_na())
data1 <- data1 %>%
mutate(sex = str_replace(sex ,"-", "NA"),
sex = str_replace(sex, "Unknown", "NA"),
sex = str_replace_na(sex) )
data1 %>%
ggplot(aes(sex)) +
geom_bar()
dead %>%
ggplot(aes(sex)) +
geom_bar()
dead <- data1 %>%
filter(dead == TRUE)
dead %>%
ggplot(aes(sex)) +
geom_bar()
data1 %>% count(sex)
data1 %>%
ggplot(aes(sex)) +
geom_bar()
dead <- data1 %>%
filter(dead == TRUE) %>%
count(sex)
dead %>%
ggplot(aes(sex)) +
geom_bar()
dead <- data1 %>%
filter(dead == TRUE) %>%
count(sex)
dead %>%
ggplot(aes(sex)) +
geom_bar()
dead <- data1 %>%
filter(dead == TRUE) %>%
dead %>%
ggplot(aes(sex)) +
geom_bar()
dead <- data1 %>%
filter(dead == TRUE) %>%
dead %>%
ggplot(aes(sex)) +
geom_bar()
dead <- data1 %>%
filter(dead == TRUE)
dead %>%
ggplot(aes(sex)) +
geom_bar()
dead %>% count(sex)
data %>%
ggplot(aes(mass)) +
gemo_histogram()
data %>%
ggplot(aes(mass)) +
geom_histogram()
data %>%
ggplot(aes(mass)) +
geom_histogram()
data %>%
ggplot(aes(cl)) +
geom_histogram()
data %>%
ggplot(aes(pl)) +
geom_histogram()
data %>%
ggplot(aes(ch)) +
geom_histogram()
glimpse(data)
setwd("C:/Users/chl19/Desktop/STA497 Reading/NLP intermediate")
